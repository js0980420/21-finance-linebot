import{V as _,r as d,b as k,u as C,c as p,a as t,e as n,d as o,g as m,v as N,A as g,I as D,F as B,q as j,o as x,W as L,t as i,s as S}from"#entry";import{_ as u}from"./wdgW8CHO.js";import{u as I}from"./DgLT0ASK.js";import{r as T}from"./UqRq4KLf.js";import{r as F}from"./B5My0XuL.js";import{r as M}from"./CoNy8hcY.js";import"./0es6LyBp.js";import"./EQ4Iz6fV.js";import"./DdngC8ig.js";import"./DW5NWq0j.js";import"./DBrhDGOf.js";import"./BSBtNZZQ.js";import"./Bi0YyG7H.js";import"./CQZt9cKZ.js";const V={class:"space-y-6"},K={class:"flex items-center justify-between"},R={class:"flex space-x-3"},W={class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2"},$={class:"bg-yellow-50 rounded-lg p-4"},z={class:"flex items-start space-x-3"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},A={class:"bg-white rounded-xl shadow-sm"},U={class:"p-6"},q={class:"flex items-center justify-between"},H={class:"flex items-center space-x-4"},P={class:"relative"},Q={class:"overflow-x-auto"},G={class:"w-full"},J={class:"bg-white divide-y divide-gray-200"},O={class:"px-6 py-4 whitespace-nowrap"},X={class:"flex items-center"},Y={class:"flex-shrink-0 w-10 h-10"},Z={class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},tt={class:"ml-4"},et={class:"text-sm font-medium text-gray-900"},st={class:"text-sm text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap"},ot={class:"text-sm font-mono text-gray-900"},nt={class:"px-6 py-4"},it={class:"text-sm text-gray-900 max-w-xs truncate"},rt={class:"text-sm text-gray-500"},lt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Bt={__name:"index",setup(ut){if(!I().hasPermission("all_access"))throw _({statusCode:403,statusMessage:"權限不足"});const r=d(""),l=d(""),c=d({totalNegotiations:47,successRate:78,thisMonth:12,pending:5}),h=d([{id:1,bankName:"台灣銀行",bankBranch:"台北分行",caseNumber:"BK-2024-001",subject:"企業融資利率調整",amount:5e7,status:"success",negotiationDate:new Date("2024-08-07"),responsible:"王總"},{id:2,bankName:"第一銀行",bankBranch:"高雄分行",caseNumber:"BK-2024-002",subject:"信用額度提升申請",amount:3e7,status:"pending",negotiationDate:new Date("2024-08-06"),responsible:"王總"},{id:3,bankName:"華南銀行",bankBranch:"新竹分行",caseNumber:"BK-2024-003",subject:"擔保品重新評估",amount:8e7,status:"failed",negotiationDate:new Date("2024-08-05"),responsible:"王總"},{id:4,bankName:"中國信託",bankBranch:"台中分行",caseNumber:"BK-2024-004",subject:"貸款展延申請",amount:25e6,status:"success",negotiationDate:new Date("2024-08-04"),responsible:"王總"}]),f=k(()=>{let s=h.value;return r.value.trim()&&(s=s.filter(e=>e.bankName.toLowerCase().includes(r.value.toLowerCase())||e.caseNumber.toLowerCase().includes(r.value.toLowerCase())||e.subject.toLowerCase().includes(r.value.toLowerCase()))),l.value&&(s=s.filter(e=>e.status===l.value)),s}),y=s=>{const e={success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"};return e[s]||e.pending},b=s=>({success:"成功",failed:"失敗",pending:"處理中"})[s]||"未知",w=s=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(s),v=s=>new Date(s).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric"});return C({title:"銀行交涉紀錄 - 金融管理系統"}),(s,e)=>(x(),p("div",V,[t("div",K,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"銀行交涉紀錄"),t("p",{class:"text-gray-600 mt-2"}," 僅限經銷商/公司高層查看的敏感金融交涉記錄 ")],-1)),t("div",R,[t("button",W,[n(o(T),{class:"w-5 h-5"}),e[2]||(e[2]=t("span",null,"新增記錄",-1))])])]),t("div",$,[t("div",z,[n(o(L),{class:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),e[4]||(e[4]=t("div",null,[t("h3",{class:"text-sm font-medium text-yellow-800"},"機密資料"),t("p",{class:"text-sm text-yellow-700 mt-1"}," 此頁面包含敏感的銀行交涉資訊，請妥善保管，不得外洩或與非授權人員分享。 ")],-1))])]),t("div",E,[n(u,{title:"總交涉次數",value:o(c).totalNegotiations,description:"累計交涉記錄",icon:"BuildingLibraryIcon",iconColor:"red",trend:8.2},null,8,["value"]),n(u,{title:"成功率",value:o(c).successRate,format:"percentage",description:"交涉成功比例",icon:"CheckCircleIcon",iconColor:"green",trend:12.5,progress:78},null,8,["value"]),n(u,{title:"本月交涉",value:o(c).thisMonth,description:"本月進行次數",icon:"ClockIcon",iconColor:"blue",trend:5.3},null,8,["value"]),n(u,{title:"待處理案件",value:o(c).pending,description:"等待回覆的案件",icon:"ExclamationTriangleIcon",iconColor:"yellow",trend:-15.2},null,8,["value"])]),t("div",A,[t("div",U,[t("div",q,[e[6]||(e[6]=t("h2",{class:"text-xl font-semibold text-gray-900"},"交涉記錄",-1)),t("div",H,[t("div",P,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>g(r)?r.value=a:null),type:"text",placeholder:"搜尋銀行或案件...",class:"pl-10 pr-4 py-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"},null,512),[[N,o(r)]]),n(o(F),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>g(l)?l.value=a:null),class:"px-4 py-2 border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500"},[...e[5]||(e[5]=[t("option",{value:""},"所有狀態",-1),t("option",{value:"pending"},"處理中",-1),t("option",{value:"success"},"成功",-1),t("option",{value:"failed"},"失敗",-1)])],512),[[D,o(l)]])])])]),t("div",Q,[t("table",G,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 銀行資訊 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 案件編號 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 交涉內容 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 狀態 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 交涉時間 "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 負責人 "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," 操作 ")])],-1)),t("tbody",J,[(x(!0),p(B,null,j(o(f),a=>(x(),p("tr",{key:a.id,class:"hover:bg-gray-50"},[t("td",O,[t("div",X,[t("div",Y,[t("div",Z,[n(o(M),{class:"w-6 h-6 text-red-600"})])]),t("div",tt,[t("div",et,i(a.bankName),1),t("div",st,i(a.bankBranch),1)])])]),t("td",at,[t("div",ot,i(a.caseNumber),1)]),t("td",nt,[t("div",it,i(a.subject),1),t("div",rt," 金額: "+i(w(a.amount)),1)]),t("td",lt,[t("span",{class:S(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",y(a.status)])},i(b(a.status)),3)]),t("td",ct,i(v(a.negotiationDate)),1),t("td",dt,i(a.responsible),1),e[7]||(e[7]=t("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},[t("button",{class:"text-red-600 hover:text-red-800"}," 查看詳情 "),t("button",{class:"text-gray-600 hover:text-gray-800"}," 編輯 ")],-1))]))),128))])])])])]))}};export{Bt as default};
