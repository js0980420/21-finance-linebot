import{t as a}from"./CxIZtCgj.js";function u(){let r=[],n={addEventListener(e,t,d,i){return e.addEventListener(t,d,i),n.add(()=>e.removeEventListener(t,d,i))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);n.add(()=>cancelAnimationFrame(t))},nextFrame(...e){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...e)})},setTimeout(...e){let t=setTimeout(...e);n.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return a(()=>{t.current&&e[0]()}),n.add(()=>{t.current=!1})},style(e,t,d){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:d}),this.add(()=>{Object.assign(e.style,{[t]:i})})},group(e){let t=u();return e(t),this.add(()=>t.dispose())},add(e){return r.push(e),()=>{let t=r.indexOf(e);if(t>=0)for(let d of r.splice(t,1))d()}},dispose(){for(let e of r.splice(0))e()}};return n}function s(r){function n(){document.readyState!=="loading"&&(r(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let o=[];s(()=>{function r(n){n.target instanceof HTMLElement&&n.target!==document.body&&o[0]!==n.target&&(o.unshift(n.target),o=o.filter(e=>e!=null&&e.isConnected),o.splice(10))}window.addEventListener("click",r,{capture:!0}),window.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("focus",r,{capture:!0}),document.body.addEventListener("click",r,{capture:!0}),document.body.addEventListener("mousedown",r,{capture:!0}),document.body.addEventListener("focus",r,{capture:!0})});export{u as o,o as t};
