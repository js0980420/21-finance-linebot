import{o as m}from"./nS2KoPbh.js";import{c as f,w,h as p}from"./CGjWf7d3.js";import{aG as s,b as g,r as E}from"#entry";function h(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function L(){return/Android/gi.test(window.navigator.userAgent)}function P(){return h()||L()}function d(r,i,o){f.isServer||s(u=>{document.addEventListener(r,i,o),u(()=>document.removeEventListener(r,i,o))})}function A(r,i,o){f.isServer||s(u=>{window.addEventListener(r,i,o),u(()=>window.removeEventListener(r,i,o))})}function b(r,i,o=g(()=>!0)){function u(t,a){if(!o.value||t.defaultPrevented)return;let e=a(t);if(e===null||!e.getRootNode().contains(e))return;let v=(function l(n){return typeof n=="function"?l(n()):Array.isArray(n)||n instanceof Set?n:[n]})(r);for(let l of v){if(l===null)continue;let n=l instanceof HTMLElement?l:m(l);if(n!=null&&n.contains(e)||t.composed&&t.composedPath().includes(n))return}return!w(e,p.Loose)&&e.tabIndex!==-1&&t.preventDefault(),i(t,e)}let c=E(null);d("pointerdown",t=>{var a,e;o.value&&(c.value=((e=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:e[0])||t.target)},!0),d("mousedown",t=>{var a,e;o.value&&(c.value=((e=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:e[0])||t.target)},!0),d("click",t=>{P()||c.value&&(u(t,()=>c.value),c.value=null)},!0),d("touchend",t=>u(t,()=>t.target instanceof HTMLElement?t.target:null),!0),A("blur",t=>u(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{A as a,P as n,h as t,b as w};
