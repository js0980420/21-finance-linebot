import{u as w,a as g}from"./DgLT0ASK.js";const v=()=>{const n=w(),{get:a,post:c,put:u,del:i}=g(),s=()=>{if(!n.user||!n.isLoggedIn)throw new Error("Authentication required. Please login first.")};return{getUsers:async(e={})=>{s();const{data:r,error:t}=await a("/users",e);if(t)throw t;return r},createUser:async e=>{s();const{data:r,error:t}=await c("/users",e);if(t)throw t;return r},updateUser:async(e,r)=>{s();const{data:t,error:o}=await u(`/users/${e}`,r);if(o)throw o;return t},deleteUser:async e=>{s();const{data:r,error:t}=await i(`/users/${e}`);if(t)throw t;return r},assignRole:async(e,r)=>{s();try{if(!e||!r)throw new Error("User ID and role name are required");const{data:t,error:o}=await c(`/users/${e}/roles`,{role:r});if(o)throw console.error(`Error assigning role ${r} to user ${e}:`,o),o;return t}catch(t){throw console.error(`Failed to assign role ${r} to user ${e}:`,t),t}},removeUserFromRole:async(e,r)=>{s();const{data:t,error:o}=await i(`/users/${e}/roles/${r}`);if(o)throw o;return t},getRoles:async()=>{s();const{data:e,error:r}=await a("/roles");if(r)throw r;return e},getUserStats:async()=>{s();const{data:e,error:r}=await a("/users/stats/overview");if(r)throw r;return e},getUser:async e=>{s();const{data:r,error:t}=await a(`/users/${e}`);if(t)throw t;return r}}};export{v as u};
