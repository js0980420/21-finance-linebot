import{a_ as u,a$ as l,n}from"#entry";import{u as s}from"./DgLT0ASK.js";const f=u(async(e,d)=>{let t,o;const i=s();[t,o]=l(()=>i.waitForInitialization()),await t,o();const a=i.isLoggedIn;if(!a&&!["/auth/login"].includes(e.path)){console.log(`Auth Middleware: Not logged in, redirecting from "${e.path}" to login.`);const r=e.fullPath!=="/"?e.fullPath:void 0;return n({path:"/auth/login",query:r?{redirect:r}:void 0})}if(a&&e.path==="/auth/login")return console.log("Auth Middleware: Already logged in, redirecting to home."),n("/")});export{f as default};
