import{_ as w}from"./0es6LyBp.js";import{h as y,r as g,i as v,n as b,c as m,a as e,t as a,f as B,g as i,v as u,d as s,j as p,e as k,k as C,o as h}from"#entry";import{u as V}from"./DgLT0ASK.js";const T={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-12 px-4 sm:px-6 lg:px-8"},M={class:"max-w-md w-full space-y-8 bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},P={class:"text-center"},j={class:"text-3xl font-bold text-gray-900"},q={class:"mt-2 text-sm text-gray-600"},N={class:"space-y-4"},U={for:"name",class:"block text-sm font-medium text-gray-700 mb-2"},z=["placeholder"],F={for:"username",class:"block text-sm font-medium text-gray-700 mb-2"},S=["placeholder"],A={for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},D=["placeholder"],H={for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},L=["placeholder"],R={for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"},E=["placeholder"],I=["disabled"],$={key:0},G={key:1,class:"flex items-center"},J={class:"text-center"},K={class:"text-sm text-gray-600"},Y={__name:"register",setup(O){const{$swal:d}=y(),f=V(),r=l=>({"auth.register_title":"註冊帳戶","auth.register_subtitle":"請填寫您的註冊資訊","auth.full_name":"姓名","auth.full_name_placeholder":"請輸入您的姓名","auth.username":"用戶名","auth.username_placeholder":"請輸入用戶名","auth.email":"電子郵件","auth.email_placeholder":"請輸入電子郵件","auth.password":"密碼","auth.password_placeholder":"請輸入密碼","auth.confirm_password":"確認密碼","auth.confirm_password_placeholder":"請再次輸入密碼","auth.register":"註冊","auth.registering":"註冊中...","auth.have_account":"已有帳戶？","auth.login":"立即登入"})[l]||l,t=g({name:"",username:"",email:"",password:"",confirmPassword:""}),c=g(!1),x=async()=>{try{if(c.value=!0,t.value.password!==t.value.confirmPassword){d.fire({icon:"error",title:"系統提示",text:"密碼與確認密碼不一致",confirmButtonText:"確定",confirmButtonColor:"#3B82F6"});return}if(t.value.password.length<6){d.fire({icon:"error",title:"系統提示",text:"密碼至少需要6個字元",confirmButtonText:"確定",confirmButtonColor:"#3B82F6"});return}const l=await f.register({name:t.value.name,username:t.value.username,email:t.value.email,password:t.value.password,password_confirmation:t.value.confirmPassword});await d.fire({icon:"success",title:"系統提示",text:"您的帳戶已成功建立，請使用您的帳號密碼登入",confirmButtonText:"前往登入",confirmButtonColor:"#3B82F6"}),await b("/auth/login")}catch(l){const o=l&&l.message?l.message:"註冊過程發生錯誤，請重試";d.fire({icon:"error",title:"系統提示",text:o,confirmButtonText:"確定",confirmButtonColor:"#3B82F6"}),console.error("Registration error:",l)}finally{c.value=!1}};return v(()=>{f.isLoggedIn&&b("/")}),(l,o)=>{const _=w;return h(),m("div",T,[e("div",M,[e("div",P,[o[5]||(o[5]=e("div",{class:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])],-1)),e("h2",j,a(r("auth.register_title")),1),e("p",q,a(r("auth.register_subtitle")),1)]),e("form",{class:"mt-8 space-y-6",onSubmit:B(x,["prevent"])},[e("div",N,[e("div",null,[e("label",U,a(r("auth.full_name")),1),i(e("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=n=>s(t).name=n),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900",placeholder:r("auth.full_name_placeholder")},null,8,z),[[u,s(t).name]])]),e("div",null,[e("label",F,a(r("auth.username")),1),i(e("input",{id:"username","onUpdate:modelValue":o[1]||(o[1]=n=>s(t).username=n),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900",placeholder:r("auth.username_placeholder")},null,8,S),[[u,s(t).username]])]),e("div",null,[e("label",A,a(r("auth.email")),1),i(e("input",{id:"email","onUpdate:modelValue":o[2]||(o[2]=n=>s(t).email=n),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900",placeholder:r("auth.email_placeholder")},null,8,D),[[u,s(t).email]])]),e("div",null,[e("label",H,a(r("auth.password")),1),i(e("input",{id:"password","onUpdate:modelValue":o[3]||(o[3]=n=>s(t).password=n),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900",placeholder:r("auth.password_placeholder")},null,8,L),[[u,s(t).password]])]),e("div",null,[e("label",R,a(r("auth.confirm_password")),1),i(e("input",{id:"confirmPassword","onUpdate:modelValue":o[4]||(o[4]=n=>s(t).confirmPassword=n),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-gray-50 text-gray-900",placeholder:r("auth.confirm_password_placeholder")},null,8,E),[[u,s(t).confirmPassword]])])]),e("button",{type:"submit",disabled:s(c),class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[s(c)?(h(),m("span",G,[o[6]||(o[6]=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p(" "+a(r("auth.registering")),1)])):(h(),m("span",$,a(r("auth.register")),1))],8,I),e("div",J,[e("p",K,[p(a(r("auth.have_account"))+" ",1),k(_,{to:"/auth/login",class:"font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200"},{default:C(()=>[p(a(r("auth.login")),1)]),_:1})])])],32)])])}}};export{Y as default};
